<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Awesome Hallu-Eval - Hallucination Evaluation Visualization</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/recharts@2.10.0/dist/Recharts.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
        }
        .bg-gradient-to-br {
            background: linear-gradient(135deg, var(--tw-gradient-stops));
        }
        .bg-gradient-to-r {
            background: linear-gradient(90deg, var(--tw-gradient-stops));
        }
        .text-transparent {
            color: transparent;
        }
        .bg-clip-text {
            -webkit-background-clip: text;
            background-clip: text;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script>
        // ç¡®ä¿æ‰€æœ‰åº“éƒ½å·²åŠ è½½
        function initApp() {
            if (typeof React === 'undefined' || typeof ReactDOM === 'undefined' || typeof Recharts === 'undefined') {
                console.error('Libraries not loaded yet. Retrying...');
                setTimeout(initApp, 100);
                return;
            }

            const { useState } = React;
            const { BarChart, Bar, PieChart, Pie, Cell, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, LineChart, Line, ScatterChart, Scatter, ZAxis } = Recharts;

        const HallucinationViz = () => {
            const [activeView, setActiveView] = useState('timeline');

            // æ—¶é—´çº¿æ•°æ®
            const timelineData = [
                { year: '2020', count: 5 },
                { year: '2021', count: 8 },
                { year: '2022', count: 6 },
                { year: '2023', count: 42 },
                { year: '2024', count: 18 }
            ];

            // è¯„ä¼°è§†è§’æ•°æ®
            const perspectiveData = [
                { name: 'SF Only', value: 28, color: '#3b82f6' },
                { name: 'WF Only', value: 32, color: '#8b5cf6' },
                { name: 'Both SF & WF', value: 19, color: '#10b981' }
            ];

            // æ¨¡å‹ä½¿ç”¨é¢‘ç‡
            const modelData = [
                { name: 'GPT Series', count: 25 },
                { name: 'LLaMA Series', count: 18 },
                { name: 'T5/BERT', count: 15 },
                { name: 'ChatGPT', count: 12 },
                { name: 'Others', count: 9 }
            ];

            // æ–¹æ³•ç±»å‹åˆ†å¸ƒ
            const methodData = [
                { name: 'Direct Assessment', value: 22, color: '#f59e0b' },
                { name: 'NLI Approach', value: 18, color: '#ef4444' },
                { name: 'QG-QA', value: 12, color: '#06b6d4' },
                { name: 'Semantic Analysis', value: 10, color: '#ec4899' },
                { name: 'Classification', value: 8, color: '#8b5cf6' },
                { name: 'Others', value: 9, color: '#64748b' }
            ];

            // æ•°æ®é›†è§„æ¨¡åˆ†å¸ƒ
            const datasetSizeData = [
                { range: '< 1K', count: 12, size: 500 },
                { range: '1K-10K', count: 18, size: 5000 },
                { range: '10K-100K', count: 8, size: 50000 },
                { range: '> 100K', count: 5, size: 200000 }
            ];

            const renderTimeline = () => (
                React.createElement('div', { className: 'space-y-4' },
                    React.createElement('h3', { className: 'text-2xl font-bold text-center mb-6 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent' },
                        'Hallucination Evaluation Methods Timeline'
                    ),
                    React.createElement(ResponsiveContainer, { width: '100%', height: 350 },
                        React.createElement(LineChart, { data: timelineData },
                            React.createElement(CartesianGrid, { strokeDasharray: '3 3', stroke: '#e2e8f0' }),
                            React.createElement(XAxis, { dataKey: 'year', stroke: '#64748b', style: { fontSize: '14px', fontWeight: '600' } }),
                            React.createElement(YAxis, { stroke: '#64748b', style: { fontSize: '14px', fontWeight: '600' } }),
                            React.createElement(Tooltip, { contentStyle: { backgroundColor: '#1e293b', border: 'none', borderRadius: '8px', color: '#fff' } }),
                            React.createElement(Line, { type: 'monotone', dataKey: 'count', stroke: '#3b82f6', strokeWidth: 3, dot: { fill: '#3b82f6', r: 6 }, activeDot: { r: 8 } })
                        )
                    ),
                    React.createElement('div', { className: 'text-center text-sm text-gray-600 mt-4' },
                        'ğŸ“ˆ Explosive growth in 2023-2024 with ',
                        React.createElement('span', { className: 'font-bold text-blue-600' }, '60 new methods')
                    )
                )
            );

            const renderPerspective = () => (
                React.createElement('div', { className: 'space-y-4' },
                    React.createElement('h3', { className: 'text-2xl font-bold text-center mb-6 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent' },
                        'Evaluation Perspective Distribution'
                    ),
                    React.createElement('div', { className: 'flex justify-center' },
                        React.createElement(ResponsiveContainer, { width: '100%', height: 350 },
                            React.createElement(PieChart, null,
                                React.createElement(Pie, {
                                    data: perspectiveData,
                                    cx: '50%',
                                    cy: '50%',
                                    labelLine: false,
                                    label: ({ name, percent }) => `${name}: ${(percent * 100).toFixed(0)}%`,
                                    outerRadius: 120,
                                    fill: '#8884d8',
                                    dataKey: 'value'
                                },
                                    perspectiveData.map((entry, index) =>
                                        React.createElement(Cell, { key: `cell-${index}`, fill: entry.color })
                                    )
                                ),
                                React.createElement(Tooltip, { contentStyle: { backgroundColor: '#1e293b', border: 'none', borderRadius: '8px', color: '#fff' } })
                            )
                        )
                    ),
                    React.createElement('div', { className: 'grid grid-cols-3 gap-4 mt-6' },
                        perspectiveData.map((item, idx) =>
                            React.createElement('div', { key: idx, className: 'text-center p-3 rounded-lg', style: { backgroundColor: `${item.color}20` } },
                                React.createElement('div', { className: 'text-2xl font-bold', style: { color: item.color } }, item.value),
                                React.createElement('div', { className: 'text-xs text-gray-600 mt-1' }, item.name)
                            )
                        )
                    ),
                    React.createElement('div', { className: 'text-center text-sm text-gray-600 mt-4' },
                        'SF: Source-based Faithfulness | WF: World Knowledge Factuality'
                    )
                )
            );

            const renderModels = () => (
                React.createElement('div', { className: 'space-y-4' },
                    React.createElement('h3', { className: 'text-2xl font-bold text-center mb-6 bg-gradient-to-r from-green-600 to-teal-600 bg-clip-text text-transparent' },
                        'Popular Models in Evaluation'
                    ),
                    React.createElement(ResponsiveContainer, { width: '100%', height: 350 },
                        React.createElement(BarChart, { data: modelData, layout: 'horizontal' },
                            React.createElement(CartesianGrid, { strokeDasharray: '3 3', stroke: '#e2e8f0' }),
                            React.createElement(XAxis, { type: 'number', stroke: '#64748b' }),
                            React.createElement(YAxis, { type: 'category', dataKey: 'name', width: 120, stroke: '#64748b' }),
                            React.createElement(Tooltip, { contentStyle: { backgroundColor: '#1e293b', border: 'none', borderRadius: '8px', color: '#fff' } }),
                            React.createElement(Bar, { dataKey: 'count', fill: '#10b981', radius: [0, 8, 8, 0] })
                        )
                    ),
                    React.createElement('div', { className: 'text-center text-sm text-gray-600 mt-4' },
                        'ğŸ¤– GPT series leads with ',
                        React.createElement('span', { className: 'font-bold text-green-600' }, '25 implementations')
                    )
                )
            );

            const renderMethods = () => (
                React.createElement('div', { className: 'space-y-4' },
                    React.createElement('h3', { className: 'text-2xl font-bold text-center mb-6 bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent' },
                        'Evaluation Method Types'
                    ),
                    React.createElement(ResponsiveContainer, { width: '100%', height: 350 },
                        React.createElement(BarChart, { data: methodData },
                            React.createElement(CartesianGrid, { strokeDasharray: '3 3', stroke: '#e2e8f0' }),
                            React.createElement(XAxis, { dataKey: 'name', stroke: '#64748b', angle: -15, textAnchor: 'end', height: 80 }),
                            React.createElement(YAxis, { stroke: '#64748b' }),
                            React.createElement(Tooltip, { contentStyle: { backgroundColor: '#1e293b', border: 'none', borderRadius: '8px', color: '#fff' } }),
                            React.createElement(Bar, { dataKey: 'value', radius: [8, 8, 0, 0] },
                                methodData.map((entry, index) =>
                                    React.createElement(Cell, { key: `cell-${index}`, fill: entry.color })
                                )
                            )
                        )
                    ),
                    React.createElement('div', { className: 'text-center text-sm text-gray-600 mt-4' },
                        'ğŸ” Diverse methodologies tackling hallucination from multiple angles'
                    )
                )
            );

            const renderDatasets = () => (
                React.createElement('div', { className: 'space-y-4' },
                    React.createElement('h3', { className: 'text-2xl font-bold text-center mb-6 bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent' },
                        'Dataset Landscape'
                    ),
                    React.createElement('div', { className: 'grid grid-cols-2 gap-6' },
                        React.createElement('div', { className: 'bg-gradient-to-br from-blue-50 to-purple-50 p-6 rounded-xl' },
                            React.createElement('div', { className: 'text-4xl font-bold text-blue-600 text-center' }, '23'),
                            React.createElement('div', { className: 'text-sm text-gray-600 text-center mt-2' }, 'Traditional Task Datasets'),
                            React.createElement('div', { className: 'text-xs text-gray-500 text-center mt-1' }, 'Summarization, Dialogue, etc.')
                        ),
                        React.createElement('div', { className: 'bg-gradient-to-br from-green-50 to-teal-50 p-6 rounded-xl' },
                            React.createElement('div', { className: 'text-4xl font-bold text-green-600 text-center' }, '9'),
                            React.createElement('div', { className: 'text-sm text-gray-600 text-center mt-2' }, 'General Factuality Datasets'),
                            React.createElement('div', { className: 'text-xs text-gray-500 text-center mt-1' }, 'QA, Multi-task, etc.')
                        ),
                        React.createElement('div', { className: 'bg-gradient-to-br from-orange-50 to-yellow-50 p-6 rounded-xl col-span-2' },
                            React.createElement('div', { className: 'text-4xl font-bold text-orange-600 text-center' }, '12'),
                            React.createElement('div', { className: 'text-sm text-gray-600 text-center mt-2' }, 'Evaluator Assessment Datasets'),
                            React.createElement('div', { className: 'text-xs text-gray-500 text-center mt-1' }, 'Meta-evaluation benchmarks')
                        )
                    ),
                    React.createElement(ResponsiveContainer, { width: '100%', height: 250 },
                        React.createElement(ScatterChart, null,
                            React.createElement(CartesianGrid, { strokeDasharray: '3 3', stroke: '#e2e8f0' }),
                            React.createElement(XAxis, { type: 'category', dataKey: 'range', name: 'Dataset Size', stroke: '#64748b' }),
                            React.createElement(YAxis, { type: 'number', dataKey: 'count', name: 'Count', stroke: '#64748b' }),
                            React.createElement(ZAxis, { type: 'number', dataKey: 'size', range: [100, 1000] }),
                            React.createElement(Tooltip, { cursor: { strokeDasharray: '3 3' }, contentStyle: { backgroundColor: '#1e293b', border: 'none', borderRadius: '8px', color: '#fff' } }),
                            React.createElement(Scatter, { data: datasetSizeData, fill: '#06b6d4' })
                        )
                    )
                )
            );

            const views = [
                { id: 'timeline', label: 'ğŸ“Š Timeline', icon: 'ğŸ“ˆ' },
                { id: 'perspective', label: 'ğŸ¯ Perspective', icon: 'ğŸ”' },
                { id: 'models', label: 'ğŸ¤– Models', icon: 'ğŸ’»' },
                { id: 'methods', label: 'âš™ï¸ Methods', icon: 'ğŸ”§' },
                { id: 'datasets', label: 'ğŸ“š Datasets', icon: 'ğŸ“Š' }
            ];

            return React.createElement('div', { className: 'w-full min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-purple-50 p-8' },
                React.createElement('div', { className: 'max-w-6xl mx-auto' },
                    // Header
                    React.createElement('div', { className: 'text-center mb-8' },
                        React.createElement('h1', { className: 'text-5xl font-bold mb-4 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent' },
                            'ğŸ˜ Awesome Hallu-Eval'
                        ),
                        React.createElement('p', { className: 'text-xl text-gray-600 mb-2' },
                            'Catching the Elephant in the Room'
                        ),
                        React.createElement('div', { className: 'flex justify-center gap-4 text-sm text-gray-500 flex-wrap' },
                            React.createElement('span', null, 'ğŸ“ 79+ Evaluation Methods'),
                            React.createElement('span', null, 'â€¢'),
                            React.createElement('span', null, 'ğŸ“Š 44+ Datasets'),
                            React.createElement('span', null, 'â€¢'),
                            React.createElement('span', null, 'ğŸš€ 2020-2024')
                        )
                    ),

                    // Navigation
                    React.createElement('div', { className: 'flex justify-center gap-3 mb-8 flex-wrap' },
                        views.map(view =>
                            React.createElement('button', {
                                key: view.id,
                                onClick: () => setActiveView(view.id),
                                className: `px-6 py-3 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105 ${
                                    activeView === view.id
                                        ? 'bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg'
                                        : 'bg-white text-gray-700 hover:bg-gray-50 shadow'
                                }`
                            },
                                React.createElement('span', { className: 'mr-2' }, view.icon),
                                view.label
                            )
                        )
                    ),

                    // Content
                    React.createElement('div', { className: 'bg-white rounded-2xl shadow-2xl p-8 min-h-[500px]' },
                        activeView === 'timeline' && renderTimeline(),
                        activeView === 'perspective' && renderPerspective(),
                        activeView === 'models' && renderModels(),
                        activeView === 'methods' && renderMethods(),
                        activeView === 'datasets' && renderDatasets()
                    ),

                    // Footer Stats
                    React.createElement('div', { className: 'mt-8 grid grid-cols-4 gap-4' },
                        React.createElement('div', { className: 'bg-white rounded-xl p-4 shadow-lg text-center' },
                            React.createElement('div', { className: 'text-3xl mb-2' }, 'ğŸ†'),
                            React.createElement('div', { className: 'text-2xl font-bold text-blue-600' }, '79+'),
                            React.createElement('div', { className: 'text-sm text-gray-600' }, 'Methods')
                        ),
                        React.createElement('div', { className: 'bg-white rounded-xl p-4 shadow-lg text-center' },
                            React.createElement('div', { className: 'text-3xl mb-2' }, 'ğŸ“Š'),
                            React.createElement('div', { className: 'text-2xl font-bold text-purple-600' }, '44+'),
                            React.createElement('div', { className: 'text-sm text-gray-600' }, 'Datasets')
                        ),
                        React.createElement('div', { className: 'bg-white rounded-xl p-4 shadow-lg text-center' },
                            React.createElement('div', { className: 'text-3xl mb-2' }, 'ğŸ”¥'),
                            React.createElement('div', { className: 'text-2xl font-bold text-green-600' }, '2023'),
                            React.createElement('div', { className: 'text-sm text-gray-600' }, 'Peak Year')
                        ),
                        React.createElement('div', { className: 'bg-white rounded-xl p-4 shadow-lg text-center' },
                            React.createElement('div', { className: 'text-3xl mb-2' }, 'ğŸ¯'),
                            React.createElement('div', { className: 'text-2xl font-bold text-orange-600' }, '24%'),
                            React.createElement('div', { className: 'text-sm text-gray-600' }, 'Dual Perspective')
                        )
                    )
                )
            );
        };

            // æ¸²æŸ“åº”ç”¨
            const root = ReactDOM.createRoot(document.getElementById('root'));
            root.render(React.createElement(HallucinationViz));
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initApp);
        } else {
            initApp();
        }
    </script>
</body>
</html>